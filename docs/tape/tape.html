<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>modular mayhem --all analog tape crunch</title>
    <link rel="stylesheet" type="text/css" href="tape.css" />
    <meta name="description" content="make some noise" />
    <meta name="author" content="easterntraveler" />
  </head>
  <body>
    <div class="logo">
      <p>Stereo DR60</p>               
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1280 265.99999">
          <path
            d="M423.048 79.572h24.277c2.262 0 3.728.801 3.728 3.67 0 2.808 2.235 2.036 3.538 1.522a67.326 67.326 0 0 1 25.134-5.193c7.832 0 13.93 2.473 17.089 6.198 3.016 3.557 3.161 4.103 8.307 1.315a62.618 62.618 0 0 1 29.274-7.43c22.306 0 26.957 13.52 20.14 24.303l-19.314 30.88a6.311 6.311 0 0 1-5.354 3.025l-21.695.117c-5.65 0-7.833-1.41-3.982-7.208l16.968-26.669c4.003-6.398 1.965-10.774-6.104-10.774-6.635 0-13.249 4.039-17.336 10.519l-19.56 31.035a6.062 6.062 0 0 1-5.187 2.924h-21.717c-6.605 0-7.77-1.492-4.017-7.301l17.03-26.877c4.003-6.398-.073-10.301-7.17-10.301a21.442 21.442 0 0 0-18.603 10.205l-20.026 31.352a6.326 6.326 0 0 1-5.331 2.921h-21.523c-5.067 0-8.367-.667-3.987-7.225l30.406-48.252a5.935 5.935 0 0 1 5.014-2.759zm315.513 19.376c3.936-7.245-26.752-8.748-47.045-3.067-4.017 1.124-6.787.398-3.561-4.804l3.955-6.268c1.719-2.725 3.011-4.472 7.968-4.246 12.019.548 29.201-1.314 49.02-.59 17.277.631 35.546 5.395 23.586 24.314l-17.658 27.772c-3.416 5.35-4.107 5.822-10.581 5.822l-20.134.033a5.419 5.419 0 0 1-4.533-2.436 2.63 2.63 0 0 0-3.348-.916 63.666 63.666 0 0 1-25.374 6.171c-6.451 0-29.59-1.013-21.499-20.286s32.742-18.369 44.551-18.15 22.518.582 24.653-3.349zm-32.564 19.218c-2.433 3.839-.759 7.668 4.271 7.668 8.106 0 15.162-4.73 20.77-10.859 1.954-2.135 2.172-4.21-1.971-3.623-8.337 1.182-19.055.48-23.07 6.813zm-151.737 89.209c3.936-7.245-26.752-8.748-47.045-3.067-4.017 1.124-6.787.398-3.561-4.804l3.955-6.268c1.719-2.725 3.011-4.472 7.968-4.246 12.019.548 29.201-1.314 49.02-.59 17.277.631 35.546 5.395 23.586 24.314l-17.658 27.772c-3.416 5.35-4.107 5.822-10.581 5.822l-20.134.033a5.419 5.419 0 0 1-4.533-2.436 2.63 2.63 0 0 0-3.348-.916 63.666 63.666 0 0 1-25.374 6.171c-6.451 0-29.59-1.013-21.499-20.286s32.742-18.369 44.551-18.15 22.518.582 24.653-3.349zm-32.564 19.218c-2.433 3.839-.759 7.668 4.271 7.668 8.106 0 15.162-4.73 20.77-10.859 1.954-2.135 2.172-4.21-1.971-3.623-8.337 1.182-19.055.48-23.07 6.813zm69.093-147.057h22.783c4.125 0 4.866 1.043 5.019 2.629.333 1.932 1.262 2.7 3.838 1.641 6.018-2.475 13.175-4.099 22.756-4.168 14.467-.103 34.51 1.79 17.086 29.912-14.769 23.837-31.255 29.606-53.767 29.606-8.447 0-13.336-1.319-16.486-3.369-3.851-2.506-4.409-3.161-7.755 1.891l-15.618 24.907a6.862 6.862 0 0 1-5.814 3.217h-21.925c-5.187 0-7.243-1.48-3.688-6.677l48.218-76.634a6.326 6.326 0 0 1 5.354-2.957zm12.16 28.348c-8.116 12.891-2.646 17.557 3.595 17.557s14.038-3.719 21.79-16.031c7.38-11.722 2.636-15.749-4.158-15.749-7.489 0-16.115 6.105-21.227 14.223zm60.221 101.484c-22.446.799-24.417-3.409-21.316-6.369 3.203-3.057 10.929-3.786 21.754-3.786a95.047 95.047 0 0 1 27.157 3.572c5.867 1.764 7.372 1.667 11.045-3.694l1.165-1.588c3.315-4.261 3.412-6.736-3.094-7.925a198.314 198.314 0 0 0-40.124-3.323c-12.785.449-34.211 1.023-50.237 17.47-12.909 13.249-8.003 25.224 22.081 24.702 13.977-.243 16.049 1.608 13.955 5.487-1.65 3.057-5.557 4.559-18.469 4.559-8.483 0-19.942.06-29.019-4.306-4.466-2.148-5.777-2.1-8.097 2.999l-.419.944c-2.502 5.071-1.338 6.236 3.7 7.896 9.94 3.277 24.404 4.391 38.974 4.391 17.932 0 40.604-5.207 51.063-18.654 6.123-7.873 9.838-23.44-20.119-22.374zM845.789 95.113c4.947 0 11.823.623 17.041 2.94 5.672 2.52 7.237 1.719 10.123-3.517l3.001-4.912c3.03-4.593 2.047-6.741-3.706-6.762-14.912-.055-19.322-3.096-36.055-3.096-31.163 0-57.667 17.345-57.667 40.389 0 18.616 24.823 22.13 38.727 22.13 7.463 0 14.429-.195 21.163-1.58 7.009-1.441 8.1-2.46 11.416-7.794l4.251-6.606c3.024-4.694 1.314-6.223-3.466-4.009a52.313 52.313 0 0 1-21.863 4.993c-14.187 0-18.985-8.554-12.375-19.363 7.763-12.695 22.274-12.812 29.409-12.812zm178.179 124.094l8.3-13.129c1.6-2.718 3.275-3.49 6.308-3.49l19.146-.083a6.407 6.407 0 0 0 5.409-3.013l2.717-4.351c2.841-4.182 2.162-6.375-3.534-6.375h-13.061c-4.174 0-5.508-1.422-2.752-4.995l2.226-3.52c2.782-4.288 1.836-6.356-3.501-6.356h-22.449a6.522 6.522 0 0 0-5.513 3.037l-5.516 8.726a6.674 6.674 0 0 1-5.641 3.108h-25.68c-4.624 0-5.109-1.859-2.781-5.093l2.303-3.583c2.624-3.617 2.017-6.194-3.382-6.194h-22.247a7.302 7.302 0 0 0-6.172 3.4l-5.616 8.883a5.556 5.556 0 0 1-4.696 2.587h-6.998a6.968 6.968 0 0 0-5.971 3.376l-2.665 4.43c-3.082 4.555-.68 5.889 3.17 5.953l1.807.091c3.855.16 3.83 1.98 2.235 4.312l-7.761 12.277c-17.36 27.709-1.633 29.111 14.331 29.109 8.125-.001 19.529-1.592 26.285-2.687 5.199-.842 6.853-2.285 8.096-4.679l.507-.977c2.237-4.111.926-6.003-3.752-4.903a47.085 47.085 0 0 1-10.608 1.033c-11.065 0-6.775-8.329-2.039-15.831l9.691-15.294a5.026 5.026 0 0 1 4.221-2.336l26.473-.133c4.785 0 5.332 1.506 2.914 5.258l-7.232 11.44c-17.77 28-1.607 29.111 14.357 29.109 8.25-.001 21.729-2.028 28.351-3.112a7.916 7.916 0 0 0 5.74-4.153l.553-1.061c2.093-3.533 1.511-6.299-3.735-4.915a40.3 40.3 0 0 1-9.944.97c-12.327 0-7.013-9.148-1.893-16.838zM1266.291.043H145.135c-10.81 0-19.616 5.137-24.583 13.058l-118.23 188.5c-5.471 7.837-1.103 20.394 11.308 20.394h298.455a5.866 5.866 0 0 0 5.066-2.909l3.906-6.691a2.934 2.934 0 0 0-2.534-4.413H25.059c-5.059 0-5.969-3.64-3.808-6.838L133.852 21.372c2.832-4.516 7.28-7.352 13.868-7.352l1105.796-.073c6.844 0 7.936 3.203 4.619 8.326l-59.069 94.243c-2.832 4.516-6.77 8.808-14.413 8.338l-258.205.519-3.119-.001c-13.745 0-5.822-10.234-3.068-14.538l9.311-14.728c1.232-1.949 3.403-2.52 5.708-2.52l17.98.132c3.567 0 5.233-1.157 6.463-3.104l3.478-5.492c2.07-3.013.614-5.246-3.414-5.246H945.13c-3.664 0-4.246-1.723-2.405-4.566l2.695-4.246c2.373-3.666 1.936-5.96-3.279-5.96l-23.048.017a5.997 5.997 0 0 0-5.044 2.76l-6.125 9.552a5.442 5.442 0 0 1-4.581 2.504h-7.757a5.869 5.869 0 0 0-5.011 2.813l-3.312 5.37c-2.602 3.955-.728 5.648 3.029 5.549l1.384.026c4.667.074 5.013 1.639 2.759 5.121l-7.598 12.019c-17.574 27.666-2.287 28.384 17.195 28.384l283.092.01a28.252 28.252 0 0 0 24.386-13.284l66.207-105.373c6.115-10.191-.873-20.528-11.429-20.528zM384.624 112.43c-11.345 17.987-26.18 26.426-60.607 26.426-29.079 0-47.108-9.095-31.107-34.465 11.345-17.987 26.847-26.311 59.851-26.311 29.079 0 47.864 8.98 31.864 34.349zm-30.634-2.69c5.448-8.638 6.91-18.796-5.435-18.796-12.405 0-18.478 5.662-24.926 15.886-5.448 8.638-7.134 19.222 5.241 19.222 12.594 0 18.672-6.088 25.12-16.312zm553.65 98.52c-2.405 4.526-6.402 10.706-8.94 14.496-2.099 3.135-3.228 3.946-8.069 3.946h-47.972c-3.622 0-4.574 1.57-4.95 3.52-.764 3.967 1.601 8.754 18.126 8.754 13.542 0 23.03-1.604 29.309-3.479 5.232-1.562 5.997 1.277 3.539 4.682l-2.565 4.092c-2.293 3.312-3.785 3.749-7.534 4.004-7.329.498-22.698 2.021-38.578 1.492-14.129-.471-50.221-.228-28.186-35.166 10.827-17.167 20.914-25.85 60.736-25.85 26.023 0 43.567 3.543 35.085 19.509zm-37.064 3.981c4.804-7.998 2.875-11.21-4.986-11.21-7.789 0-12.266 2.402-17.871 10.665-1.304 1.922-.146 3.385 2.366 3.385h15.433a5.678 5.678 0 0 0 5.059-2.839zM315.006 48.357c-21.707-.488-29.003-5.547-57.73-5.547-26.078 0-78.365 4.633-107.556 50.445-42.17 66.181 57.732 69.879 104.397 55.802a12.254 12.254 0 0 0 6.878-5.266l5.12-8.251c3.355-5.406 2.535-7.633-1.392-6.093q-.285.121-.581.244l-.023.01h0c-7.157 2.96-18.973 6.432-35.492 6.76-27.104.54-45.881-20.771-27.391-45.618 18.704-25.135 48.704-28.378 63.793-28.378 13.278 0 27.345 3.332 36.454 8.714a4.139 4.139 0 0 0 5.669-1.443l10.191-17.163a2.792 2.792 0 0 0-2.337-4.216zm192.848 110.229c-21.707-.488-29.003-5.547-57.73-5.547-26.078 0-78.365 4.633-107.556 50.445-42.17 66.181 57.732 69.879 104.397 55.802a12.254 12.254 0 0 0 6.878-5.266l5.12-8.251c3.355-5.406 2.535-7.633-1.392-6.093q-.285.121-.581.244l-.023.01h0c-7.157 2.96-18.973 6.432-35.492 6.76-27.104.54-45.881-20.771-27.391-45.618 18.704-25.135 48.704-28.378 63.793-28.378 13.278 0 27.345 3.332 36.454 8.714a4.139 4.139 0 0 0 5.669-1.443l10.191-17.163a2.792 2.792 0 0 0-2.337-4.216zm260.26 50.782c-22.446.799-24.417-3.409-21.316-6.369 3.203-3.057 10.929-3.786 21.754-3.786a95.047 95.047 0 0 1 27.157 3.572c5.867 1.764 7.372 1.667 11.045-3.694l1.165-1.588c3.315-4.261 3.412-6.736-3.094-7.925a198.314 198.314 0 0 0-40.124-3.323c-12.785.449-34.211 1.023-50.237 17.47-12.909 13.249-8.003 25.224 22.081 24.702 13.977-.243 16.049 1.608 13.955 5.487-1.65 3.057-5.557 4.559-18.469 4.559-8.483 0-19.942.06-29.019-4.306-4.466-2.148-5.777-2.1-8.097 2.999l-.419.944c-2.502 5.071-1.338 6.236 3.7 7.896 9.94 3.277 24.404 4.391 38.974 4.391 17.932 0 40.604-5.207 51.063-18.654 6.123-7.873 9.838-23.44-20.119-22.374zm390.418-1.108c-2.405 4.526-6.402 10.706-8.94 14.496-2.099 3.135-3.228 3.946-8.069 3.946h-47.972c-3.622 0-4.574 1.57-4.95 3.52-.764 3.967 1.601 8.754 18.126 8.754 13.542 0 23.03-1.604 29.309-3.479 5.232-1.562 5.997 1.277 3.539 4.682l-2.565 4.092c-2.293 3.312-3.785 3.749-7.534 4.004-7.329.498-22.698 2.021-38.578 1.492-14.129-.471-50.222-.228-28.186-35.166 10.827-17.167 20.914-25.85 60.736-25.85 26.023 0 43.567 3.543 35.085 19.509zm-37.064 3.981c4.804-7.998 2.875-11.21-4.986-11.21-7.789 0-12.266 2.402-17.871 10.665-1.304 1.922-.146 3.385 2.366 3.385h15.433a5.678 5.678 0 0 0 5.059-2.839z"
            fill="#fbb03a" />
        </svg>
      <img src="dolby.svg" alt="dolby" class="filter">
    </div>
    <aside>
      <!-- cassette -->

      <div class="cards">
        <div class="cassette card" id="cassette-01">
          
        </div>
      </div>
    </aside>
    <div id="info-circle" onclick="this.style.transform='scale3d(0, 0, 0)'">
      <div>Click the tape</div>
      <div>Then Play</div>
    </div>
    <a href="http://www.thesenoises.xyz">
      <div id="info-circle2">
        <div>trash the</div>
        <div>boombox</div>
      </div>
    </a>
    <main>
      <!-- boom box -->
      <div class="boom-box">
        <!-- boom container -->
        <div class="boom-player">
          <!-- boom nav -->
          <div class="boom-nav">
            <!-- controls -->
            <div class="boom-controls">
              <div class="boom-contrl-range">
                <input
                  type="range"
                  id="volume"
                  min="0"
                  max="2"
                  value="1"
                  list="gain-vals"
                  step="0.1"
                  data-action="volume"
                />
                <datalist id="gain-vals">
                  <option value="0" label="min"></option>
                  <option value="2" label="max"></option>
                </datalist>

                <label for="volume">VOL</label>
              </div>
              <div class="boom-contrl-range">
                <input
                  type="range"
                  id="panner"
                  list="pan-vals"
                  min="-1"
                  max="1"
                  value="0"
                  step="0.1"
                  data-action="panner"
                />
                <datalist id="pan-vals">
                  <option value="-1" label="left"></option>
                  <option value="1" label="right"></option>
                </datalist>

                <label for="panner">PAN</label>
              </div>
            </div>
            <div class="boom-data">
              <canvas class="audio-analyse"></canvas>
            </div>
          </div>

          <!-- boom bottom -->
          <div class="boom-bottom">
            <div class="boom-circle">
              <div class="boom-circle-inner"></div>
            </div>
            <fieldset class="cassette-outer">

              <div class="cassette-box">
                <div class="cassette-tape-real"></div>
              </div>
              <div>
                <button class="control-play">Play / Pause</button>
              </div>
            </fieldset>
            <div class="boom-circle">
              <div class="boom-circle-inner"></div>
            </div>
          </div>
        </div>
      </div>
    </main>
    <script type="application/javascript">
      const audioList = [
        {
          src: 'https://bafybeifaxa7aiw6qrp6k7a3w3xf4j4rxxiwa3epbqhwkqmf7qg2lkh5ui4.ipfs.w3s.link/',
          type: 'audio/m4a',
        },
        {
          src: 'https://interactive-examples.mdn.mozilla.net/media/cc0-audio/t-rex-roar.mp3',
          type: 'audio/mp3',
        },
      ]
      window.onload = function () {
        let av = new AudioVisualize({
            playList: audioList,
            playButton: '.control-play',
            volControl: '#volume',
            panControl: '#panner',
            visualCanvas: '.audio-analyse',
          }),
          cards = document.querySelectorAll('.cards .card'),
          box = document.querySelector('.cassette-box'),
          tapeBox,
          curAudio = '',
          cloneCards = {}

        function reset(index) {
          av.changeAudio(index)
          curAudio = index
        }
        cards.forEach(function (card, index) {
          cloneCards[index] = card.cloneNode(true)
          card.addEventListener(
            'click',
            (function (index) {
              return function (e) {
                if (index !== curAudio) {
                  let tapeBox = document.querySelector('.cassette-box > div')
                  let target = cloneCards[index]
                  box.replaceChild(target, tapeBox)
                  reset(index)
                }
              }
            })(index),
            false
          )
        })
      }
      window.onbeforeunload = function () {
        av = null
      }
    </script>
  </body>
  <script src="tape.js"></script>
</html>
